{% load standard_tags %}
<link rel="stylesheet" href="/static/css/pass.css">
<div class="pass-card card" style="max-width: 18rem;">
    <div class="card-body">

        {% if pass|get_class == 'TeacherPass' %}
            <h5 class="card-title">{{ pass.student.profile.name }}</h5>
        {% elif pass|get_class == 'SRTPass' %}
            <h5 class="card-title">{{ pass.student.profile.name }}</h5>
        {% elif pass|get_class == 'LocationPass' %}
            <h5 class="card-title">{{ pass.student.profile.name }} to {{ pass.location }}</h5>
        {% endif %}
        <h5 class="card-subtitle mb-2 text-muted">{{ pass.startTimeRequested|date:"N j Y" }}</h5>
        <h6 class="card-subtitle mb-2 text-muted">
            {{ pass.startTimeRequested|date:"P" }}
            - {{ pass.endTimeRequested|date:"P" }}
        </h6>
        <p class="card-text">{{ pass.description }}</p>
    </div>
    <ul class="list-group list-group-flush">
        {% if not pass.approved %}
            <li class="list-group-item">
                <a href="/teacher/approve/{{ pass.id }}" class="btn btn-primary">Approve</a>
            </li>
        {% else %}
            <li class="list-group-item">Time Left:
                {% if user.profile.is_teacher and pass.originTeacher == user.profile.get_teacher and pass.timeLeftOrigin == None %}
                    <a href="/teacher/checkout/{{ pass.id }}">
                        <button class="btn btn-info">Check Out</button>
                    </a>
                {% else %}
                    {{ pass.timeLeftOrigin|default:"N/A" }}
                {% endif %}
            </li>
            <li class="list-group-item">Time Arrived: {{ pass.timeArrivedDestination|default:"N/A" }}</li>
        {% endif %}
    </ul>
</div>